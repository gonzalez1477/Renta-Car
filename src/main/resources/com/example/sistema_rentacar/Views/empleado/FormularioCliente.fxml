<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.example.sistema_rentacar.Controllers.Empleado.FormularioClienteController"
      spacing="15" style="-fx-background-color: white;">

    <padding>
        <Insets top="20" right="25" bottom="20" left="25"/>
    </padding>

    <!-- Header  -->
    <VBox spacing="6" style="-fx-background-color: linear-gradient(to right, #667eea, #764ba2);
                             -fx-padding: 15; -fx-background-radius: 8;">
        <Label fx:id="lblTitulo" text="Nuevo Cliente"
               style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: white;"/>
        <Label text="Complete la informaci贸n del cliente"
               style="-fx-font-size: 12px; -fx-text-fill: rgba(255,255,255,0.9);"/>
    </VBox>

    <!-- Formulario en ScrollPane -->
    <ScrollPane fitToWidth="true" prefHeight="420"
                style="-fx-background: transparent; -fx-background-color: transparent;"
                VBox.vgrow="ALWAYS">
        <VBox spacing="15">
            <padding>
                <Insets top="8" right="8" bottom="8" left="8"/>
            </padding>

            <!-- Informaci贸n Personal -->
            <VBox spacing="10">
                <Label text=" Informaci贸n Personal"
                       style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

                <GridPane hgap="12" vgap="10">
                    <!-- Nombre -->
                    <VBox spacing="4" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <Label text="Nombre *"
                               style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 12px;"/>
                        <TextField fx:id="txtNombre" promptText="Ingrese el nombre"
                                   style="-fx-font-size: 12px; -fx-padding: 8;
                                          -fx-border-color: #dfe6e9; -fx-border-radius: 6;
                                          -fx-background-radius: 6; -fx-pref-height: 32px;"/>
                    </VBox>

                    <!-- Apellido -->
                    <VBox spacing="4" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <Label text="Apellido *"
                               style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 12px;"/>
                        <TextField fx:id="txtApellido" promptText="Ingrese el apellido"
                                   style="-fx-font-size: 12px; -fx-padding: 8;
                                          -fx-border-color: #dfe6e9; -fx-border-radius: 6;
                                          -fx-background-radius: 6; -fx-pref-height: 32px;"/>
                    </VBox>

                    <!-- Email -->
                    <VBox spacing="4" GridPane.columnIndex="0" GridPane.rowIndex="1">
                        <Label text="Correo Electr贸nico *"
                               style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 12px;"/>
                        <TextField fx:id="txtEmail" promptText="correo@ejemplo.com"
                                   style="-fx-font-size: 12px; -fx-padding: 8;
                                          -fx-border-color: #dfe6e9; -fx-border-radius: 6;
                                          -fx-background-radius: 6; -fx-pref-height: 32px;"/>
                    </VBox>

                    <!-- Tel茅fono -->
                    <VBox spacing="4" GridPane.columnIndex="1" GridPane.rowIndex="1">
                        <Label text="Tel茅fono *"
                               style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 12px;"/>
                        <TextField fx:id="txtTelefono" promptText="0000-0000"
                                   style="-fx-font-size: 12px; -fx-padding: 8;
                                          -fx-border-color: #dfe6e9; -fx-border-radius: 6;
                                          -fx-background-radius: 6; -fx-pref-height: 32px;"/>
                    </VBox>

                    <!-- DUI -->
                    <VBox spacing="4" GridPane.columnIndex="0" GridPane.rowIndex="2">
                        <Label text="DUI *"
                               style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 12px;"/>
                        <TextField fx:id="txtDui" promptText="00000000-0"
                                   style="-fx-font-size: 12px; -fx-padding: 8;
                                          -fx-border-color: #dfe6e9; -fx-border-radius: 6;
                                          -fx-background-radius: 6; -fx-pref-height: 32px;"/>
                    </VBox>

                    <!-- Licencia -->
                    <VBox spacing="4" GridPane.columnIndex="1" GridPane.rowIndex="2">
                        <Label text="Licencia de Conducir *"
                               style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 12px;"/>
                        <TextField fx:id="txtLicencia" promptText="N煤mero de licencia"
                                   style="-fx-font-size: 12px; -fx-padding: 8;
                                          -fx-border-color: #dfe6e9; -fx-border-radius: 6;
                                          -fx-background-radius: 6; -fx-pref-height: 32px;"/>
                    </VBox>

                    <!-- Fecha Nacimiento -->
                    <VBox spacing="4" GridPane.columnIndex="0" GridPane.rowIndex="3">
                        <Label text="Fecha de Nacimiento *"
                               style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 12px;"/>
                        <DatePicker fx:id="dpFechaNacimiento" promptText="Seleccione fecha"
                                    prefWidth="Infinity"
                                    style="-fx-font-size: 12px; -fx-pref-height: 32px;"/>
                    </VBox>

                    <!-- Estado (solo para edici贸n) -->
                    <VBox spacing="4" GridPane.columnIndex="1" GridPane.rowIndex="3"
                          fx:id="vboxEstado" visible="false" managed="false">
                        <Label text="Estado"
                               style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 12px;"/>
                        <CheckBox fx:id="chkActivo" text="Cliente Activo"
                                  style="-fx-font-size: 12px; -fx-padding: 6 0 0 0;"/>
                    </VBox>

                    <!-- Direcci贸n -->
                    <VBox spacing="4" GridPane.columnIndex="0" GridPane.rowIndex="4"
                          GridPane.columnSpan="2">
                        <Label text="Direcci贸n *"
                               style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 12px;"/>
                        <TextArea fx:id="txtDireccion" promptText="Ingrese la direcci贸n completa"
                                  prefRowCount="2" prefHeight="60" wrapText="true"
                                  style="-fx-font-size: 12px; -fx-border-color: #dfe6e9;
                                         -fx-border-radius: 6; -fx-background-radius: 6;"/>
                    </VBox>

                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS" percentWidth="50"/>
                        <ColumnConstraints hgrow="ALWAYS" percentWidth="50"/>
                    </columnConstraints>
                </GridPane>
            </VBox>

            <Separator style="-fx-background-color: #ecf0f1;"/>

            <!-- Credenciales (solo para nuevo cliente) -->
            <VBox spacing="10" fx:id="vboxCredenciales">
                <Label text=" Credenciales de Acceso"
                       style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

                <GridPane hgap="12" vgap="10">
                    <!-- Usuario -->
                    <VBox spacing="4" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <Label text="Nombre de Usuario *"
                               style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 12px;"/>
                        <TextField fx:id="txtUsuario" promptText="usuario123"
                                   style="-fx-font-size: 12px; -fx-padding: 8;
                                          -fx-border-color: #dfe6e9; -fx-border-radius: 6;
                                          -fx-background-radius: 6; -fx-pref-height: 32px;"/>
                    </VBox>

                    <!-- Contrase帽a -->
                    <VBox spacing="4" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <Label text="Contrase帽a *"
                               style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 12px;"/>
                        <TextField fx:id="txtContrasena"
                                   promptText="cliente123"
                                   text="cliente123"
                                   editable="false"
                                   disable="true"
                                   style="-fx-font-size: 12px; -fx-padding: 8;
                                          -fx-border-color: #dfe6e9; -fx-border-radius: 6;
                                          -fx-background-radius: 6; -fx-opacity: 1; -fx-pref-height: 32px;"/>
                    </VBox>

                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS" percentWidth="50"/>
                        <ColumnConstraints hgrow="ALWAYS" percentWidth="50"/>
                    </columnConstraints>
                </GridPane>

                <Label text=" Nota: El cliente podr谩 cambiar su contrase帽a despu茅s del primer inicio de sesi贸n"
                       style="-fx-text-fill: #7f8c8d; -fx-font-size: 11px; -fx-font-style: italic;"
                       wrapText="true"/>
            </VBox>

        </VBox>
    </ScrollPane>

    <!-- Mensajes -->
    <HBox fx:id="hboxMensaje" visible="false" managed="false" spacing="8" alignment="CENTER_LEFT"
          style="-fx-padding: 10; -fx-background-radius: 6; -fx-border-radius: 6; -fx-border-width: 1;">
        <Label fx:id="lblIconoMensaje" style="-fx-font-size: 14px;"/>
        <Label fx:id="lblMensaje" wrapText="true" HBox.hgrow="ALWAYS"
               style="-fx-font-size: 12px; -fx-font-weight: 600;"/>
    </HBox>

    <!-- Botones -->
    <HBox spacing="10" alignment="CENTER">
        <Button fx:id="btnGuardar" text="Guardar Cliente" onAction="#handleGuardar"
                prefWidth="160" prefHeight="36"
                styleClass="btn-success"
                style="-fx-background-color: #27ae60; -fx-text-fill: white;
                       -fx-font-size: 13px; -fx-font-weight: bold;
                       -fx-background-radius: 6; -fx-cursor: hand;"/>

        <Button text="Cancelar" onAction="#handleCancelar"
                prefWidth="160" prefHeight="36"
                style="-fx-background-color: #95a5a6; -fx-text-fill: white;
                       -fx-font-size: 13px; -fx-font-weight: bold;
                       -fx-background-radius: 6; -fx-cursor: hand;"/>
    </HBox>

</VBox>